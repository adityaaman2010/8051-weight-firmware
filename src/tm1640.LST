C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE TM1640
OBJECT MODULE PLACED IN tm1640.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE tm1640.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          //
   2          // Created by aditya on 28-08-2022.
   3          //
   4          #include "REG_MG82FG5Bxx.h"
   5          #include "macro.h"
   6          #include "tm1640.h"
   7          #include "utility.h"
   8          
   9          void TM1640_Init(unsigned char InValue)
  10          {
  11   1          //GPIO_WriteHigh(GPIO4,GPIO_PIN_1);     //P41 write high DIN
  12   1          GPIO_write_DIN_high();
  13   1          Delay_Some_Time(1);
  14   1          //GPIO_WriteHigh(GPIO4,GPIO_PIN_0);     //P40 write high SCLK
  15   1          GPIO_write_SCLK_high();
  16   1      
  17   1          if(InValue == DSPTM1640_DIS) //Show off
  18   1          {
  19   2              TM1640Start();//Data write mode setting
  20   2              TM1640WriteByte(DSP1640_DIS);//Display off control
  21   2              TM1640Stop();
  22   2          }
  23   1          else
  24   1          {
  25   2              TM1640Start();//Data write mode setting
  26   2              TM1640WriteByte(TM1640_FIEXD);//Data command setting address        automatically   increases by 1
  27   2              TM1640Stop();
  28   2              TM1640Start(); //Display brightness setting
  29   2              TM1640WriteByte(TM1640_DISPLAY); //Display command control pulse width      14/16
  30   2              TM1640Stop();
  31   2          }
  32   1      }
  33          
  34          void TM1640Start(void)
  35          {
  36   1          //GPIO_WriteHigh(GPIO4,GPIO_PIN_1);     //P41 write high DIN
  37   1          GPIO_write_DIN_high();
  38   1          //GPIO_WriteHigh(GPIO4,GPIO_PIN_0);     //P40 write high SCLK
  39   1          GPIO_write_SCLK_high();
  40   1          Delay_Some_Time(1);
  41   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_1);     //p41 low level DIN
  42   1          GPIO_write_DIN_low();
  43   1          Delay_Some_Time(1);
  44   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_1);     //p40 low level SCLK
  45   1          GPIO_write_SCLK_low();
  46   1          Delay_Some_Time(1);
  47   1      }
  48          
  49          void TM1640WriteByte(unsigned char  date)
  50          {
  51   1          unsigned char i;
  52   1          unsigned char  Tmp;
  53   1          Tmp=date;
  54   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_1);     //p41 low level DIN
  55   1          GPIO_write_DIN_low();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 2   

  56   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_0);     //p40 low level SCLK
  57   1          GPIO_write_SCLK_low();
  58   1          for(i=0;i<8;i++)
  59   1          {
  60   2              //GPIO_WriteLow(GPIO4,GPIO_PIN_0);     //p40 low level SCLK
  61   2              GPIO_write_SCLK_low();
  62   2              Delay_Some_Time(1);
  63   2              if(Tmp&0x01)
  64   2              {
  65   3                  //GPIO_WriteHigh(GPIO4,GPIO_PIN_1);     //P41 write high DIN
  66   3                  GPIO_write_DIN_high();
  67   3                  Delay_Some_Time(1);
  68   3              }
  69   2              else
  70   2              {
  71   3                  //GPIO_WriteLow(GPIO4,GPIO_PIN_1);     //p41 low level DIN
  72   3                  GPIO_write_DIN_low();
  73   3                  Delay_Some_Time(1);
  74   3              }
  75   2              //GPIO_WriteHigh(GPIO4,GPIO_PIN_0);     //P40 write high SCLK
  76   2              GPIO_write_SCLK_high();
  77   2              Tmp = Tmp>>1;
  78   2          }
  79   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_0);     //p40 low level SCLK
  80   1          GPIO_write_SCLK_low();
  81   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_1);     //p41 low level DIN
  82   1          GPIO_write_DIN_low();
  83   1      }
  84          
  85          void TM1640Stop(void)
  86          {
  87   1          //GPIO_WriteLow(GPIO4,GPIO_PIN_1);     //p41 low level DIN
  88   1          GPIO_write_DIN_low();
  89   1          //GPIO_WriteHigh(GPIO4,GPIO_PIN_0);     //P40 write high SCLK
  90   1          GPIO_write_SCLK_high();
  91   1          Delay_Some_Time(1);
  92   1          //GPIO_WriteHigh(GPIO4,GPIO_PIN_1);
  93   1          GPIO_write_DIN_high();
  94   1          Delay_Some_Time(1);
  95   1      }
  96          
  97          void TM1640_display(unsigned char *no_digits)
  98          {
  99   1          unsigned char  i;
 100   1          TM1640Start();
 101   1          TM1640WriteByte(0x44); //Set the starting address
 102   1          TM1640Stop();
 103   1          TM1640Start();
 104   1          TM1640WriteByte(0xcd);
 105   1          for(i=0;i<1;i++)
 106   1          {
 107   2              TM1640WriteByte(no_digits[i]);
 108   2          }
 109   1          TM1640Stop();
 110   1          TM1640Start();
 111   1          TM1640WriteByte(0x8b); //Set the starting address
 112   1          TM1640Stop();
 113   1      }
 114          
 115          void TM1640_U_display(unsigned char *utemp)
 116          {
 117   1      
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 3   

 118   1          TM1640Start();
 119   1          TM1640WriteByte(0x44); //Set the starting address
 120   1          TM1640Stop();
 121   1          TM1640Start();
 122   1          TM1640WriteByte(0xc5);
 123   1          TM1640WriteByte(utemp[0]);
 124   1          TM1640Stop();
 125   1          TM1640Start();
 126   1          TM1640WriteByte(0xc8);
 127   1          TM1640WriteByte(utemp[1]);
 128   1          TM1640Stop();
 129   1          TM1640Start();
 130   1          TM1640WriteByte(0xc7);
 131   1          TM1640WriteByte(utemp[2]);
 132   1          TM1640Stop();
 133   1          TM1640Start();
 134   1          TM1640WriteByte(0xca);
 135   1          TM1640WriteByte(utemp[3]);
 136   1          TM1640Stop();
 137   1          TM1640Start();
 138   1          TM1640WriteByte(0xc9);
 139   1          TM1640WriteByte(utemp[4]);
 140   1          TM1640Stop();
 141   1          TM1640Start();
 142   1          TM1640WriteByte(0x8b); //Set the starting address
 143   1          TM1640Stop();
 144   1      }
 145          
 146          void TM1640_M_display(unsigned char *mtemp)
 147          {
 148   1      
 149   1          TM1640Start();
 150   1          TM1640WriteByte(0x44); //Set the starting address
 151   1          TM1640Stop();
 152   1          TM1640Start();
 153   1          TM1640WriteByte(0xcb);
 154   1          TM1640WriteByte(mtemp[0]);
 155   1          TM1640Stop();
 156   1          TM1640Start();
 157   1          TM1640WriteByte(0xc1);
 158   1          TM1640WriteByte(mtemp[1]);
 159   1          TM1640Stop();
 160   1          TM1640Start();
 161   1          TM1640WriteByte(0xc4);
 162   1          TM1640WriteByte(mtemp[2]);
 163   1          TM1640Stop();
 164   1          TM1640Start();
 165   1          TM1640WriteByte(0xc3);
 166   1          TM1640WriteByte(mtemp[3]);
 167   1          TM1640Stop();
 168   1          TM1640Start();
 169   1          TM1640WriteByte(0xc6);
 170   1          TM1640WriteByte(mtemp[4]);
 171   1          TM1640Stop();
 172   1          TM1640Start();
 173   1          TM1640WriteByte(0x8b); //Set the starting address
 174   1          TM1640Stop();
 175   1      }
 176          
 177          void TM1640_UM_display(unsigned char *co_name)
 178          {
 179   1          TM1640Start();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 4   

 180   1          TM1640WriteByte(0x44); //Set the starting address
 181   1          TM1640Stop();
 182   1      
 183   1          TM1640Start();
 184   1          TM1640WriteByte(0xcb);
 185   1          TM1640WriteByte(co_name[0]);
 186   1          TM1640Stop();
 187   1          Delay_Some_Time(100);
 188   1      
 189   1          TM1640Start();
 190   1          TM1640WriteByte(0xcb);
 191   1          TM1640WriteByte(co_name[1]);
 192   1          TM1640Stop();
 193   1          TM1640Start();
 194   1          TM1640WriteByte(0xc1);
 195   1          TM1640WriteByte(co_name[0]);
 196   1          TM1640Stop();
 197   1          Delay_Some_Time(100);
 198   1      
 199   1          TM1640Start();
 200   1          TM1640WriteByte(0xcb);
 201   1          TM1640WriteByte(co_name[2]);
 202   1          TM1640Stop();
 203   1          TM1640Start();
 204   1          TM1640WriteByte(0xc1);
 205   1          TM1640WriteByte(co_name[1]);
 206   1          TM1640Stop();
 207   1          TM1640Start();
 208   1          TM1640WriteByte(0xc4);
 209   1          TM1640WriteByte(co_name[0]);
 210   1          TM1640Stop();
 211   1          Delay_Some_Time(100);
 212   1      
 213   1          TM1640Start();
 214   1          TM1640WriteByte(0xcb);
 215   1          TM1640WriteByte(co_name[3]);
 216   1          TM1640Stop();
 217   1          TM1640Start();
 218   1          TM1640WriteByte(0xc1);
 219   1          TM1640WriteByte(co_name[2]);
 220   1          TM1640Stop();
 221   1          TM1640Start();
 222   1          TM1640WriteByte(0xc4);
 223   1          TM1640WriteByte(co_name[1]);
 224   1          TM1640Stop();
 225   1          TM1640Start();
 226   1          TM1640WriteByte(0xc3);
 227   1          TM1640WriteByte(co_name[0]);
 228   1          TM1640Stop();
 229   1          Delay_Some_Time(100);
 230   1      
 231   1          TM1640Start();
 232   1          TM1640WriteByte(0xcb);
 233   1          TM1640WriteByte(co_name[4]);
 234   1          TM1640Stop();
 235   1          TM1640Start();
 236   1          TM1640WriteByte(0xc1);
 237   1          TM1640WriteByte(co_name[3]);
 238   1          TM1640Stop();
 239   1          TM1640Start();
 240   1          TM1640WriteByte(0xc4);
 241   1          TM1640WriteByte(co_name[2]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 5   

 242   1          TM1640Stop();
 243   1          TM1640Start();
 244   1          TM1640WriteByte(0xc3);
 245   1          TM1640WriteByte(co_name[1]);
 246   1          TM1640Stop();
 247   1          TM1640Start();
 248   1          TM1640WriteByte(0xc6);
 249   1          TM1640WriteByte(co_name[0]);
 250   1          TM1640Stop();
 251   1          Delay_Some_Time(100);
 252   1      
 253   1          TM1640Start();
 254   1          TM1640WriteByte(0xcb);
 255   1          TM1640WriteByte(co_name[5]);
 256   1          TM1640Stop();
 257   1          TM1640Start();
 258   1          TM1640WriteByte(0xc1);
 259   1          TM1640WriteByte(co_name[4]);
 260   1          TM1640Stop();
 261   1          TM1640Start();
 262   1          TM1640WriteByte(0xc4);
 263   1          TM1640WriteByte(co_name[3]);
 264   1          TM1640Stop();
 265   1          TM1640Start();
 266   1          TM1640WriteByte(0xc3);
 267   1          TM1640WriteByte(co_name[2]);
 268   1          TM1640Stop();
 269   1          TM1640Start();
 270   1          TM1640WriteByte(0xc6);
 271   1          TM1640WriteByte(co_name[1]);
 272   1          TM1640Stop();
 273   1          TM1640Start();
 274   1          TM1640WriteByte(0xc5);
 275   1          TM1640WriteByte(co_name[0]);
 276   1          TM1640Stop();
 277   1          Delay_Some_Time(100);
 278   1      
 279   1          TM1640Start();
 280   1          TM1640WriteByte(0xcb);
 281   1          TM1640WriteByte(co_name[6]);
 282   1          TM1640Stop();
 283   1          TM1640Start();
 284   1          TM1640WriteByte(0xc1);
 285   1          TM1640WriteByte(co_name[5]);
 286   1          TM1640Stop();
 287   1          TM1640Start();
 288   1          TM1640WriteByte(0xc4);
 289   1          TM1640WriteByte(co_name[4]);
 290   1          TM1640Stop();
 291   1          TM1640Start();
 292   1          TM1640WriteByte(0xc3);
 293   1          TM1640WriteByte(co_name[3]);
 294   1          TM1640Stop();
 295   1          TM1640Start();
 296   1          TM1640WriteByte(0xc6);
 297   1          TM1640WriteByte(co_name[2]);
 298   1          TM1640Stop();
 299   1          TM1640Start();
 300   1          TM1640WriteByte(0xc5);
 301   1          TM1640WriteByte(co_name[1]);
 302   1          TM1640Stop();
 303   1          TM1640Start();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 6   

 304   1          TM1640WriteByte(0xc8);
 305   1          TM1640WriteByte(co_name[0]);
 306   1          TM1640Stop();
 307   1          Delay_Some_Time(100);
 308   1      
 309   1          TM1640Start();
 310   1          TM1640WriteByte(0xcb);
 311   1          TM1640WriteByte(co_name[7]);
 312   1          TM1640Stop();
 313   1          TM1640Start();
 314   1          TM1640WriteByte(0xc1);
 315   1          TM1640WriteByte(co_name[6]);
 316   1          TM1640Stop();
 317   1          TM1640Start();
 318   1          TM1640WriteByte(0xc4);
 319   1          TM1640WriteByte(co_name[5]);
 320   1          TM1640Stop();
 321   1          TM1640Start();
 322   1          TM1640WriteByte(0xc3);
 323   1          TM1640WriteByte(co_name[4]);
 324   1          TM1640Stop();
 325   1          TM1640Start();
 326   1          TM1640WriteByte(0xc6);
 327   1          TM1640WriteByte(co_name[3]);
 328   1          TM1640Stop();
 329   1          TM1640Start();
 330   1          TM1640WriteByte(0xc5);
 331   1          TM1640WriteByte(co_name[2]);
 332   1          TM1640Stop();
 333   1          TM1640Start();
 334   1          TM1640WriteByte(0xc8);
 335   1          TM1640WriteByte(co_name[1]);
 336   1          TM1640Stop();
 337   1          TM1640Start();
 338   1          TM1640WriteByte(0xc7);
 339   1          TM1640WriteByte(co_name[0]);
 340   1          TM1640Stop();
 341   1          Delay_Some_Time(100);
 342   1      
 343   1          TM1640Start();
 344   1          TM1640WriteByte(0xcb);
 345   1          TM1640WriteByte(co_name[8]);
 346   1          TM1640Stop();
 347   1          TM1640Start();
 348   1          TM1640WriteByte(0xc1);
 349   1          TM1640WriteByte(co_name[7]);
 350   1          TM1640Stop();
 351   1          TM1640Start();
 352   1          TM1640WriteByte(0xc4);
 353   1          TM1640WriteByte(co_name[6]);
 354   1          TM1640Stop();
 355   1          TM1640Start();
 356   1          TM1640WriteByte(0xc3);
 357   1          TM1640WriteByte(co_name[5]);
 358   1          TM1640Stop();
 359   1          TM1640Start();
 360   1          TM1640WriteByte(0xc6);
 361   1          TM1640WriteByte(co_name[4]);
 362   1          TM1640Stop();
 363   1          TM1640Start();
 364   1          TM1640WriteByte(0xc5);
 365   1          TM1640WriteByte(co_name[3]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 7   

 366   1          TM1640Stop();
 367   1          TM1640Start();
 368   1          TM1640WriteByte(0xc8);
 369   1          TM1640WriteByte(co_name[2]);
 370   1          TM1640Stop();
 371   1          TM1640Start();
 372   1          TM1640WriteByte(0xc7);
 373   1          TM1640WriteByte(co_name[1]);
 374   1          TM1640Stop();
 375   1          TM1640Start();
 376   1          TM1640WriteByte(0xca);
 377   1          TM1640WriteByte(co_name[0]);
 378   1          TM1640Stop();
 379   1          Delay_Some_Time(100);
 380   1      
 381   1          TM1640Start();
 382   1          TM1640WriteByte(0xcb);
 383   1          TM1640WriteByte(co_name[9]);
 384   1          TM1640Stop();
 385   1          TM1640Start();
 386   1          TM1640WriteByte(0xc1);
 387   1          TM1640WriteByte(co_name[8]);
 388   1          TM1640Stop();
 389   1          TM1640Start();
 390   1          TM1640WriteByte(0xc4);
 391   1          TM1640WriteByte(co_name[7]);
 392   1          TM1640Stop();
 393   1          TM1640Start();
 394   1          TM1640WriteByte(0xc3);
 395   1          TM1640WriteByte(co_name[6]);
 396   1          TM1640Stop();
 397   1          TM1640Start();
 398   1          TM1640WriteByte(0xc6);
 399   1          TM1640WriteByte(co_name[5]);
 400   1          TM1640Stop();
 401   1          TM1640Start();
 402   1          TM1640WriteByte(0xc5);
 403   1          TM1640WriteByte(co_name[4]);
 404   1          TM1640Stop();
 405   1          TM1640Start();
 406   1          TM1640WriteByte(0xc8);
 407   1          TM1640WriteByte(co_name[3]);
 408   1          TM1640Stop();
 409   1          TM1640Start();
 410   1          TM1640WriteByte(0xc7);
 411   1          TM1640WriteByte(co_name[2]);
 412   1          TM1640Stop();
 413   1          TM1640Start();
 414   1          TM1640WriteByte(0xca);
 415   1          TM1640WriteByte(co_name[1]);
 416   1          TM1640Stop();
 417   1          TM1640Start();
 418   1          TM1640WriteByte(0xc9);
 419   1          TM1640WriteByte(co_name[0]);
 420   1          TM1640Stop();
 421   1          //TM1640Start();
 422   1          //TM1640WriteByte(0x8b); //Set the starting address
 423   1          //TM1640Stop();
 424   1          Delay_Some_Time(100);
 425   1      
 426   1          TM1640Start();
 427   1          TM1640WriteByte(0xcb);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 8   

 428   1          TM1640WriteByte(co_name[10]);
 429   1          TM1640Stop();
 430   1          TM1640Start();
 431   1          TM1640WriteByte(0xc1);
 432   1          TM1640WriteByte(co_name[9]);
 433   1          TM1640Stop();
 434   1          TM1640Start();
 435   1          TM1640WriteByte(0xc4);
 436   1          TM1640WriteByte(co_name[8]);
 437   1          TM1640Stop();
 438   1          TM1640Start();
 439   1          TM1640WriteByte(0xc3);
 440   1          TM1640WriteByte(co_name[7]);
 441   1          TM1640Stop();
 442   1          TM1640Start();
 443   1          TM1640WriteByte(0xc6);
 444   1          TM1640WriteByte(co_name[6]);
 445   1          TM1640Stop();
 446   1          TM1640Start();
 447   1          TM1640WriteByte(0xc5);
 448   1          TM1640WriteByte(co_name[5]);
 449   1          TM1640Stop();
 450   1          TM1640Start();
 451   1          TM1640WriteByte(0xc8);
 452   1          TM1640WriteByte(co_name[4]);
 453   1          TM1640Stop();
 454   1          TM1640Start();
 455   1          TM1640WriteByte(0xc7);
 456   1          TM1640WriteByte(co_name[3]);
 457   1          TM1640Stop();
 458   1          TM1640Start();
 459   1          TM1640WriteByte(0xca);
 460   1          TM1640WriteByte(co_name[2]);
 461   1          TM1640Stop();
 462   1          TM1640Start();
 463   1          TM1640WriteByte(0xc9);
 464   1          TM1640WriteByte(co_name[1]);
 465   1          TM1640Stop();
 466   1          //TM1640Start();
 467   1          //TM1640WriteByte(0x8b); //Set the starting address
 468   1          //TM1640Stop();
 469   1          Delay_Some_Time(100);
 470   1      
 471   1          TM1640Start();
 472   1          TM1640WriteByte(0xcb);
 473   1          TM1640WriteByte(co_name[11]);
 474   1          TM1640Stop();
 475   1          TM1640Start();
 476   1          TM1640WriteByte(0xc1);
 477   1          TM1640WriteByte(co_name[10]);
 478   1          TM1640Stop();
 479   1          TM1640Start();
 480   1          TM1640WriteByte(0xc4);
 481   1          TM1640WriteByte(co_name[9]);
 482   1          TM1640Stop();
 483   1          TM1640Start();
 484   1          TM1640WriteByte(0xc3);
 485   1          TM1640WriteByte(co_name[8]);
 486   1          TM1640Stop();
 487   1          TM1640Start();
 488   1          TM1640WriteByte(0xc6);
 489   1          TM1640WriteByte(co_name[7]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 9   

 490   1          TM1640Stop();
 491   1          TM1640Start();
 492   1          TM1640WriteByte(0xc5);
 493   1          TM1640WriteByte(co_name[6]);
 494   1          TM1640Stop();
 495   1          TM1640Start();
 496   1          TM1640WriteByte(0xc8);
 497   1          TM1640WriteByte(co_name[5]);
 498   1          TM1640Stop();
 499   1          TM1640Start();
 500   1          TM1640WriteByte(0xc7);
 501   1          TM1640WriteByte(co_name[4]);
 502   1          TM1640Stop();
 503   1          TM1640Start();
 504   1          TM1640WriteByte(0xca);
 505   1          TM1640WriteByte(co_name[3]);
 506   1          TM1640Stop();
 507   1          TM1640Start();
 508   1          TM1640WriteByte(0xc9);
 509   1          TM1640WriteByte(co_name[2]);
 510   1          TM1640Stop();
 511   1          //TM1640Start();
 512   1          //TM1640WriteByte(0x8b); //Set the starting address
 513   1          //TM1640Stop();
 514   1          Delay_Some_Time(100);
 515   1      
 516   1          TM1640Start();
 517   1          TM1640WriteByte(0xcb);
 518   1          TM1640WriteByte(co_name[12]);
 519   1          TM1640Stop();
 520   1          TM1640Start();
 521   1          TM1640WriteByte(0xc1);
 522   1          TM1640WriteByte(co_name[11]);
 523   1          TM1640Stop();
 524   1          TM1640Start();
 525   1          TM1640WriteByte(0xc4);
 526   1          TM1640WriteByte(co_name[10]);
 527   1          TM1640Stop();
 528   1          TM1640Start();
 529   1          TM1640WriteByte(0xc3);
 530   1          TM1640WriteByte(co_name[9]);
 531   1          TM1640Stop();
 532   1          TM1640Start();
 533   1          TM1640WriteByte(0xc6);
 534   1          TM1640WriteByte(co_name[8]);
 535   1          TM1640Stop();
 536   1          TM1640Start();
 537   1          TM1640WriteByte(0xc5);
 538   1          TM1640WriteByte(co_name[7]);
 539   1          TM1640Stop();
 540   1          TM1640Start();
 541   1          TM1640WriteByte(0xc8);
 542   1          TM1640WriteByte(co_name[6]);
 543   1          TM1640Stop();
 544   1          TM1640Start();
 545   1          TM1640WriteByte(0xc7);
 546   1          TM1640WriteByte(co_name[5]);
 547   1          TM1640Stop();
 548   1          TM1640Start();
 549   1          TM1640WriteByte(0xca);
 550   1          TM1640WriteByte(co_name[4]);
 551   1          TM1640Stop();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 10  

 552   1          TM1640Start();
 553   1          TM1640WriteByte(0xc9);
 554   1          TM1640WriteByte(co_name[3]);
 555   1          TM1640Stop();
 556   1          //TM1640Start();
 557   1          //TM1640WriteByte(0x8b); //Set the starting address
 558   1          //TM1640Stop();
 559   1          Delay_Some_Time(100);
 560   1      
 561   1          TM1640Start();
 562   1          TM1640WriteByte(0xcb);
 563   1          TM1640WriteByte(co_name[13]);
 564   1          TM1640Stop();
 565   1          TM1640Start();
 566   1          TM1640WriteByte(0xc1);
 567   1          TM1640WriteByte(co_name[12]);
 568   1          TM1640Stop();
 569   1          TM1640Start();
 570   1          TM1640WriteByte(0xc4);
 571   1          TM1640WriteByte(co_name[11]);
 572   1          TM1640Stop();
 573   1          TM1640Start();
 574   1          TM1640WriteByte(0xc3);
 575   1          TM1640WriteByte(co_name[10]);
 576   1          TM1640Stop();
 577   1          TM1640Start();
 578   1          TM1640WriteByte(0xc6);
 579   1          TM1640WriteByte(co_name[9]);
 580   1          TM1640Stop();
 581   1          TM1640Start();
 582   1          TM1640WriteByte(0xc5);
 583   1          TM1640WriteByte(co_name[8]);
 584   1          TM1640Stop();
 585   1          TM1640Start();
 586   1          TM1640WriteByte(0xc8);
 587   1          TM1640WriteByte(co_name[7]);
 588   1          TM1640Stop();
 589   1          TM1640Start();
 590   1          TM1640WriteByte(0xc7);
 591   1          TM1640WriteByte(co_name[6]);
 592   1          TM1640Stop();
 593   1          TM1640Start();
 594   1          TM1640WriteByte(0xca);
 595   1          TM1640WriteByte(co_name[5]);
 596   1          TM1640Stop();
 597   1          TM1640Start();
 598   1          TM1640WriteByte(0xc9);
 599   1          TM1640WriteByte(co_name[4]);
 600   1          TM1640Stop();
 601   1          //TM1640Start();
 602   1          //TM1640WriteByte(0x8b); //Set the starting address
 603   1          //TM1640Stop();
 604   1          Delay_Some_Time(100);
 605   1      
 606   1          TM1640Start();
 607   1          TM1640WriteByte(0xcb);
 608   1          TM1640WriteByte(co_name[14]);
 609   1          TM1640Stop();
 610   1          TM1640Start();
 611   1          TM1640WriteByte(0xc1);
 612   1          TM1640WriteByte(co_name[13]);
 613   1          TM1640Stop();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 11  

 614   1          TM1640Start();
 615   1          TM1640WriteByte(0xc4);
 616   1          TM1640WriteByte(co_name[12]);
 617   1          TM1640Stop();
 618   1          TM1640Start();
 619   1          TM1640WriteByte(0xc3);
 620   1          TM1640WriteByte(co_name[11]);
 621   1          TM1640Stop();
 622   1          TM1640Start();
 623   1          TM1640WriteByte(0xc6);
 624   1          TM1640WriteByte(co_name[10]);
 625   1          TM1640Stop();
 626   1          TM1640Start();
 627   1          TM1640WriteByte(0xc5);
 628   1          TM1640WriteByte(co_name[9]);
 629   1          TM1640Stop();
 630   1          TM1640Start();
 631   1          TM1640WriteByte(0xc8);
 632   1          TM1640WriteByte(co_name[8]);
 633   1          TM1640Stop();
 634   1          TM1640Start();
 635   1          TM1640WriteByte(0xc7);
 636   1          TM1640WriteByte(co_name[7]);
 637   1          TM1640Stop();
 638   1          TM1640Start();
 639   1          TM1640WriteByte(0xca);
 640   1          TM1640WriteByte(co_name[6]);
 641   1          TM1640Stop();
 642   1          TM1640Start();
 643   1          TM1640WriteByte(0xc9);
 644   1          TM1640WriteByte(co_name[5]);
 645   1          TM1640Stop();
 646   1          //TM1640Start();
 647   1          //TM1640WriteByte(0x8b); //Set the starting address
 648   1          //TM1640Stop();
 649   1          Delay_Some_Time(100);
 650   1      
 651   1          TM1640Start();
 652   1          TM1640WriteByte(0xcb);
 653   1          TM1640WriteByte(co_name[15]);
 654   1          TM1640Stop();
 655   1          TM1640Start();
 656   1          TM1640WriteByte(0xc1);
 657   1          TM1640WriteByte(co_name[14]);
 658   1          TM1640Stop();
 659   1          TM1640Start();
 660   1          TM1640WriteByte(0xc4);
 661   1          TM1640WriteByte(co_name[13]);
 662   1          TM1640Stop();
 663   1          TM1640Start();
 664   1          TM1640WriteByte(0xc3);
 665   1          TM1640WriteByte(co_name[12]);
 666   1          TM1640Stop();
 667   1          TM1640Start();
 668   1          TM1640WriteByte(0xc6);
 669   1          TM1640WriteByte(co_name[11]);
 670   1          TM1640Stop();
 671   1          TM1640Start();
 672   1          TM1640WriteByte(0xc5);
 673   1          TM1640WriteByte(co_name[10]);
 674   1          TM1640Stop();
 675   1          TM1640Start();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 12  

 676   1          TM1640WriteByte(0xc8);
 677   1          TM1640WriteByte(co_name[9]);
 678   1          TM1640Stop();
 679   1          TM1640Start();
 680   1          TM1640WriteByte(0xc7);
 681   1          TM1640WriteByte(co_name[8]);
 682   1          TM1640Stop();
 683   1          TM1640Start();
 684   1          TM1640WriteByte(0xca);
 685   1          TM1640WriteByte(co_name[7]);
 686   1          TM1640Stop();
 687   1          TM1640Start();
 688   1          TM1640WriteByte(0xc9);
 689   1          TM1640WriteByte(co_name[6]);
 690   1          TM1640Stop();
 691   1          //TM1640Start();
 692   1          //TM1640WriteByte(0x8b); //Set the starting address
 693   1          //TM1640Stop();
 694   1          Delay_Some_Time(100);
 695   1      
 696   1          TM1640Start();
 697   1          TM1640WriteByte(0xcb);
 698   1          TM1640WriteByte(co_name[16]);
 699   1          TM1640Stop();
 700   1          TM1640Start();
 701   1          TM1640WriteByte(0xc1);
 702   1          TM1640WriteByte(co_name[15]);
 703   1          TM1640Stop();
 704   1          TM1640Start();
 705   1          TM1640WriteByte(0xc4);
 706   1          TM1640WriteByte(co_name[14]);
 707   1          TM1640Stop();
 708   1          TM1640Start();
 709   1          TM1640WriteByte(0xc3);
 710   1          TM1640WriteByte(co_name[13]);
 711   1          TM1640Stop();
 712   1          TM1640Start();
 713   1          TM1640WriteByte(0xc6);
 714   1          TM1640WriteByte(co_name[12]);
 715   1          TM1640Stop();
 716   1          TM1640Start();
 717   1          TM1640WriteByte(0xc5);
 718   1          TM1640WriteByte(co_name[11]);
 719   1          TM1640Stop();
 720   1          TM1640Start();
 721   1          TM1640WriteByte(0xc8);
 722   1          TM1640WriteByte(co_name[10]);
 723   1          TM1640Stop();
 724   1          TM1640Start();
 725   1          TM1640WriteByte(0xc7);
 726   1          TM1640WriteByte(co_name[9]);
 727   1          TM1640Stop();
 728   1          TM1640Start();
 729   1          TM1640WriteByte(0xca);
 730   1          TM1640WriteByte(co_name[8]);
 731   1          TM1640Stop();
 732   1          TM1640Start();
 733   1          TM1640WriteByte(0xc9);
 734   1          TM1640WriteByte(co_name[7]);
 735   1          TM1640Stop();
 736   1          //TM1640Start();
 737   1          //TM1640WriteByte(0x8b); //Set the starting address
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 13  

 738   1          //TM1640Stop();
 739   1          Delay_Some_Time(100);
 740   1      
 741   1          TM1640Start();
 742   1          TM1640WriteByte(0xcb);
 743   1          TM1640WriteByte(co_name[17]);
 744   1          TM1640Stop();
 745   1          TM1640Start();
 746   1          TM1640WriteByte(0xc1);
 747   1          TM1640WriteByte(co_name[16]);
 748   1          TM1640Stop();
 749   1          TM1640Start();
 750   1          TM1640WriteByte(0xc4);
 751   1          TM1640WriteByte(co_name[15]);
 752   1          TM1640Stop();
 753   1          TM1640Start();
 754   1          TM1640WriteByte(0xc3);
 755   1          TM1640WriteByte(co_name[14]);
 756   1          TM1640Stop();
 757   1          TM1640Start();
 758   1          TM1640WriteByte(0xc6);
 759   1          TM1640WriteByte(co_name[13]);
 760   1          TM1640Stop();
 761   1          TM1640Start();
 762   1          TM1640WriteByte(0xc5);
 763   1          TM1640WriteByte(co_name[12]);
 764   1          TM1640Stop();
 765   1          TM1640Start();
 766   1          TM1640WriteByte(0xc8);
 767   1          TM1640WriteByte(co_name[11]);
 768   1          TM1640Stop();
 769   1          TM1640Start();
 770   1          TM1640WriteByte(0xc7);
 771   1          TM1640WriteByte(co_name[10]);
 772   1          TM1640Stop();
 773   1          TM1640Start();
 774   1          TM1640WriteByte(0xca);
 775   1          TM1640WriteByte(co_name[9]);
 776   1          TM1640Stop();
 777   1          TM1640Start();
 778   1          TM1640WriteByte(0xc9);
 779   1          TM1640WriteByte(co_name[8]);
 780   1          TM1640Stop();
 781   1          //TM1640Start();
 782   1          //TM1640WriteByte(0x8b); //Set the starting address
 783   1          //TM1640Stop();
 784   1          Delay_Some_Time(100);
 785   1      
 786   1          TM1640Start();
 787   1          TM1640WriteByte(0xcb);
 788   1          TM1640WriteByte(co_name[18]);
 789   1          TM1640Stop();
 790   1          TM1640Start();
 791   1          TM1640WriteByte(0xc1);
 792   1          TM1640WriteByte(co_name[17]);
 793   1          TM1640Stop();
 794   1          TM1640Start();
 795   1          TM1640WriteByte(0xc4);
 796   1          TM1640WriteByte(co_name[16]);
 797   1          TM1640Stop();
 798   1          TM1640Start();
 799   1          TM1640WriteByte(0xc3);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 14  

 800   1          TM1640WriteByte(co_name[15]);
 801   1          TM1640Stop();
 802   1          TM1640Start();
 803   1          TM1640WriteByte(0xc6);
 804   1          TM1640WriteByte(co_name[14]);
 805   1          TM1640Stop();
 806   1          TM1640Start();
 807   1          TM1640WriteByte(0xc5);
 808   1          TM1640WriteByte(co_name[13]);
 809   1          TM1640Stop();
 810   1          TM1640Start();
 811   1          TM1640WriteByte(0xc8);
 812   1          TM1640WriteByte(co_name[12]);
 813   1          TM1640Stop();
 814   1          TM1640Start();
 815   1          TM1640WriteByte(0xc7);
 816   1          TM1640WriteByte(co_name[11]);
 817   1          TM1640Stop();
 818   1          TM1640Start();
 819   1          TM1640WriteByte(0xca);
 820   1          TM1640WriteByte(co_name[10]);
 821   1          TM1640Stop();
 822   1          TM1640Start();
 823   1          TM1640WriteByte(0xc9);
 824   1          TM1640WriteByte(co_name[9]);
 825   1          TM1640Stop();
 826   1          //TM1640Start();
 827   1          //TM1640WriteByte(0x8b); //Set the starting address
 828   1          //TM1640Stop();
 829   1          Delay_Some_Time(100);
 830   1      
 831   1          TM1640Start();
 832   1          TM1640WriteByte(0xcb);
 833   1          TM1640WriteByte(co_name[19]);
 834   1          TM1640Stop();
 835   1          TM1640Start();
 836   1          TM1640WriteByte(0xc1);
 837   1          TM1640WriteByte(co_name[18]);
 838   1          TM1640Stop();
 839   1          TM1640Start();
 840   1          TM1640WriteByte(0xc4);
 841   1          TM1640WriteByte(co_name[17]);
 842   1          TM1640Stop();
 843   1          TM1640Start();
 844   1          TM1640WriteByte(0xc3);
 845   1          TM1640WriteByte(co_name[16]);
 846   1          TM1640Stop();
 847   1          TM1640Start();
 848   1          TM1640WriteByte(0xc6);
 849   1          TM1640WriteByte(co_name[15]);
 850   1          TM1640Stop();
 851   1          TM1640Start();
 852   1          TM1640WriteByte(0xc5);
 853   1          TM1640WriteByte(co_name[14]);
 854   1          TM1640Stop();
 855   1          TM1640Start();
 856   1          TM1640WriteByte(0xc8);
 857   1          TM1640WriteByte(co_name[13]);
 858   1          TM1640Stop();
 859   1          TM1640Start();
 860   1          TM1640WriteByte(0xc7);
 861   1          TM1640WriteByte(co_name[12]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 15  

 862   1          TM1640Stop();
 863   1          TM1640Start();
 864   1          TM1640WriteByte(0xca);
 865   1          TM1640WriteByte(co_name[11]);
 866   1          TM1640Stop();
 867   1          TM1640Start();
 868   1          TM1640WriteByte(0xc9);
 869   1          TM1640WriteByte(co_name[10]);
 870   1          TM1640Stop();
 871   1          TM1640Start();
 872   1          TM1640WriteByte(0x8b); //Set the starting address
 873   1          TM1640Stop();
 874   1      
 875   1      }
 876          
 877          void TM1640_digichk(unsigned char *dichk_temp)
 878          {
 879   1          TM1640Start();
 880   1          TM1640WriteByte(0x44); //Set the starting address
 881   1          TM1640Stop();
 882   1      
 883   1          TM1640Start();
 884   1          TM1640WriteByte(0xc2);
 885   1          TM1640WriteByte(dichk_temp[0]);
 886   1          TM1640Stop();
 887   1      
 888   1      
 889   1          TM1640Start();
 890   1          TM1640WriteByte(0xc0);
 891   1          TM1640WriteByte(dichk_temp[0]);
 892   1          TM1640Stop();
 893   1      
 894   1          TM1640Start();
 895   1          TM1640WriteByte(0xcc);
 896   1          TM1640WriteByte(dichk_temp[0]);
 897   1          TM1640Stop();
 898   1      
 899   1          TM1640Start();
 900   1          TM1640WriteByte(0xce);
 901   1          TM1640WriteByte(dichk_temp[0]);
 902   1          TM1640Stop();
 903   1      
 904   1          TM1640Start();
 905   1          TM1640WriteByte(0xcf);
 906   1          TM1640WriteByte(dichk_temp[0]);
 907   1          TM1640Stop();
 908   1      
 909   1          TM1640Start();
 910   1          TM1640WriteByte(0xcd);
 911   1          TM1640WriteByte(dichk_temp[0]);
 912   1          TM1640Stop();
 913   1      
 914   1          TM1640Start();
 915   1          TM1640WriteByte(0xcb);
 916   1          TM1640WriteByte(dichk_temp[0]);
 917   1          TM1640Stop();
 918   1      
 919   1          TM1640Start();
 920   1          TM1640WriteByte(0xc1);
 921   1          TM1640WriteByte(dichk_temp[0]);
 922   1          TM1640Stop();
 923   1      
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 16  

 924   1          TM1640Start();
 925   1          TM1640WriteByte(0xc4);
 926   1          TM1640WriteByte(dichk_temp[0]);
 927   1          TM1640Stop();
 928   1      
 929   1          TM1640Start();
 930   1          TM1640WriteByte(0xc3);
 931   1          TM1640WriteByte(dichk_temp[0]);
 932   1          TM1640Stop();
 933   1      
 934   1          TM1640Start();
 935   1          TM1640WriteByte(0xc6);
 936   1          TM1640WriteByte(dichk_temp[0]);
 937   1          TM1640Stop();
 938   1      
 939   1          TM1640Start();
 940   1          TM1640WriteByte(0xc5);
 941   1          TM1640WriteByte(dichk_temp[0]);
 942   1          TM1640Stop();
 943   1      
 944   1          TM1640Start();
 945   1          TM1640WriteByte(0xc8);
 946   1          TM1640WriteByte(dichk_temp[0]);
 947   1          TM1640Stop();
 948   1      
 949   1          TM1640Start();
 950   1          TM1640WriteByte(0xc7);
 951   1          TM1640WriteByte(dichk_temp[0]);
 952   1          TM1640Stop();
 953   1      
 954   1          TM1640Start();
 955   1          TM1640WriteByte(0xca);
 956   1          TM1640WriteByte(dichk_temp[0]);
 957   1          TM1640Stop();
 958   1      
 959   1          TM1640Start();
 960   1          TM1640WriteByte(0xc9);
 961   1          TM1640WriteByte(dichk_temp[0]);
 962   1          TM1640Stop();
 963   1          //TM1640Start();
 964   1          //TM1640WriteByte(0x8b); //Set the starting address
 965   1          //TM1640Stop();
 966   1      
 967   1      
 968   1          Delay_Some_Time(500);
 969   1      
 970   1          TM1640Start();
 971   1          TM1640WriteByte(0xc2);
 972   1          TM1640WriteByte(dichk_temp[1]);
 973   1          TM1640Stop();
 974   1      
 975   1          TM1640Start();
 976   1          TM1640WriteByte(0xc0);
 977   1          TM1640WriteByte(dichk_temp[1]);
 978   1          TM1640Stop();
 979   1      
 980   1          TM1640Start();
 981   1          TM1640WriteByte(0xcc);
 982   1          TM1640WriteByte(dichk_temp[1]);
 983   1          TM1640Stop();
 984   1      
 985   1          TM1640Start();
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 17  

 986   1          TM1640WriteByte(0xce);
 987   1          TM1640WriteByte(dichk_temp[1]);
 988   1          TM1640Stop();
 989   1      
 990   1          TM1640Start();
 991   1          TM1640WriteByte(0xcf);
 992   1          TM1640WriteByte(dichk_temp[1]);
 993   1          TM1640Stop();
 994   1      
 995   1          TM1640Start();
 996   1          TM1640WriteByte(0xcd);
 997   1          TM1640WriteByte(dichk_temp[1]);
 998   1          TM1640Stop();
 999   1      
1000   1          TM1640Start();
1001   1          TM1640WriteByte(0xcb);
1002   1          TM1640WriteByte(dichk_temp[1]);
1003   1          TM1640Stop();
1004   1      
1005   1          TM1640Start();
1006   1          TM1640WriteByte(0xc1);
1007   1          TM1640WriteByte(dichk_temp[1]);
1008   1          TM1640Stop();
1009   1      
1010   1          TM1640Start();
1011   1          TM1640WriteByte(0xc4);
1012   1          TM1640WriteByte(dichk_temp[1]);
1013   1          TM1640Stop();
1014   1      
1015   1          TM1640Start();
1016   1          TM1640WriteByte(0xc3);
1017   1          TM1640WriteByte(dichk_temp[1]);
1018   1          TM1640Stop();
1019   1      
1020   1          TM1640Start();
1021   1          TM1640WriteByte(0xc6);
1022   1          TM1640WriteByte(dichk_temp[1]);
1023   1          TM1640Stop();
1024   1      
1025   1          TM1640Start();
1026   1          TM1640WriteByte(0xc5);
1027   1          TM1640WriteByte(dichk_temp[1]);
1028   1          TM1640Stop();
1029   1      
1030   1          TM1640Start();
1031   1          TM1640WriteByte(0xc8);
1032   1          TM1640WriteByte(dichk_temp[1]);
1033   1          TM1640Stop();
1034   1      
1035   1          TM1640Start();
1036   1          TM1640WriteByte(0xc7);
1037   1          TM1640WriteByte(dichk_temp[1]);
1038   1          TM1640Stop();
1039   1      
1040   1          TM1640Start();
1041   1          TM1640WriteByte(0xca);
1042   1          TM1640WriteByte(dichk_temp[1]);
1043   1          TM1640Stop();
1044   1      
1045   1          TM1640Start();
1046   1          TM1640WriteByte(0xc9);
1047   1          TM1640WriteByte(dichk_temp[1]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 18  

1048   1          TM1640Stop();
1049   1      
1050   1          Delay_Some_Time(500);
1051   1      
1052   1          TM1640Start();
1053   1          TM1640WriteByte(0xc2);
1054   1          TM1640WriteByte(dichk_temp[2]);
1055   1          TM1640Stop();
1056   1      
1057   1          TM1640Start();
1058   1          TM1640WriteByte(0xc0);
1059   1          TM1640WriteByte(dichk_temp[2]);
1060   1          TM1640Stop();
1061   1      
1062   1          TM1640Start();
1063   1          TM1640WriteByte(0xcc);
1064   1          TM1640WriteByte(dichk_temp[2]);
1065   1          TM1640Stop();
1066   1      
1067   1          TM1640Start();
1068   1          TM1640WriteByte(0xce);
1069   1          TM1640WriteByte(dichk_temp[2]);
1070   1          TM1640Stop();
1071   1      
1072   1          TM1640Start();
1073   1          TM1640WriteByte(0xcf);
1074   1          TM1640WriteByte(dichk_temp[2]);
1075   1          TM1640Stop();
1076   1      
1077   1          TM1640Start();
1078   1          TM1640WriteByte(0xcd);
1079   1          TM1640WriteByte(dichk_temp[2]);
1080   1          TM1640Stop();
1081   1      
1082   1          TM1640Start();
1083   1          TM1640WriteByte(0xcb);
1084   1          TM1640WriteByte(dichk_temp[2]);
1085   1          TM1640Stop();
1086   1      
1087   1          TM1640Start();
1088   1          TM1640WriteByte(0xc1);
1089   1          TM1640WriteByte(dichk_temp[2]);
1090   1          TM1640Stop();
1091   1      
1092   1          TM1640Start();
1093   1          TM1640WriteByte(0xc4);
1094   1          TM1640WriteByte(dichk_temp[2]);
1095   1          TM1640Stop();
1096   1      
1097   1          TM1640Start();
1098   1          TM1640WriteByte(0xc3);
1099   1          TM1640WriteByte(dichk_temp[2]);
1100   1          TM1640Stop();
1101   1      
1102   1          TM1640Start();
1103   1          TM1640WriteByte(0xc6);
1104   1          TM1640WriteByte(dichk_temp[2]);
1105   1          TM1640Stop();
1106   1      
1107   1          TM1640Start();
1108   1          TM1640WriteByte(0xc5);
1109   1          TM1640WriteByte(dichk_temp[2]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 19  

1110   1          TM1640Stop();
1111   1      
1112   1          TM1640Start();
1113   1          TM1640WriteByte(0xc8);
1114   1          TM1640WriteByte(dichk_temp[2]);
1115   1          TM1640Stop();
1116   1      
1117   1          TM1640Start();
1118   1          TM1640WriteByte(0xc7);
1119   1          TM1640WriteByte(dichk_temp[2]);
1120   1          TM1640Stop();
1121   1      
1122   1          TM1640Start();
1123   1          TM1640WriteByte(0xca);
1124   1          TM1640WriteByte(dichk_temp[2]);
1125   1          TM1640Stop();
1126   1      
1127   1          TM1640Start();
1128   1          TM1640WriteByte(0xc9);
1129   1          TM1640WriteByte(dichk_temp[2]);
1130   1          TM1640Stop();
1131   1      
1132   1          Delay_Some_Time(500);
1133   1      
1134   1          TM1640Start();
1135   1          TM1640WriteByte(0xc2);
1136   1          TM1640WriteByte(dichk_temp[3]);
1137   1          TM1640Stop();
1138   1      
1139   1          TM1640Start();
1140   1          TM1640WriteByte(0xc0);
1141   1          TM1640WriteByte(dichk_temp[3]);
1142   1          TM1640Stop();
1143   1      
1144   1          TM1640Start();
1145   1          TM1640WriteByte(0xcc);
1146   1          TM1640WriteByte(dichk_temp[3]);
1147   1          TM1640Stop();
1148   1      
1149   1          TM1640Start();
1150   1          TM1640WriteByte(0xce);
1151   1          TM1640WriteByte(dichk_temp[3]);
1152   1          TM1640Stop();
1153   1      
1154   1          TM1640Start();
1155   1          TM1640WriteByte(0xcf);
1156   1          TM1640WriteByte(dichk_temp[3]);
1157   1          TM1640Stop();
1158   1      
1159   1          TM1640Start();
1160   1          TM1640WriteByte(0xcd);
1161   1          TM1640WriteByte(dichk_temp[3]);
1162   1          TM1640Stop();
1163   1      
1164   1          TM1640Start();
1165   1          TM1640WriteByte(0xcb);
1166   1          TM1640WriteByte(dichk_temp[3]);
1167   1          TM1640Stop();
1168   1      
1169   1          TM1640Start();
1170   1          TM1640WriteByte(0xc1);
1171   1          TM1640WriteByte(dichk_temp[3]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 20  

1172   1          TM1640Stop();
1173   1      
1174   1          TM1640Start();
1175   1          TM1640WriteByte(0xc4);
1176   1          TM1640WriteByte(dichk_temp[3]);
1177   1          TM1640Stop();
1178   1      
1179   1          TM1640Start();
1180   1          TM1640WriteByte(0xc3);
1181   1          TM1640WriteByte(dichk_temp[3]);
1182   1          TM1640Stop();
1183   1      
1184   1          TM1640Start();
1185   1          TM1640WriteByte(0xc6);
1186   1          TM1640WriteByte(dichk_temp[3]);
1187   1          TM1640Stop();
1188   1      
1189   1          TM1640Start();
1190   1          TM1640WriteByte(0xc5);
1191   1          TM1640WriteByte(dichk_temp[3]);
1192   1          TM1640Stop();
1193   1      
1194   1          TM1640Start();
1195   1          TM1640WriteByte(0xc8);
1196   1          TM1640WriteByte(dichk_temp[3]);
1197   1          TM1640Stop();
1198   1      
1199   1          TM1640Start();
1200   1          TM1640WriteByte(0xc7);
1201   1          TM1640WriteByte(dichk_temp[3]);
1202   1          TM1640Stop();
1203   1      
1204   1          TM1640Start();
1205   1          TM1640WriteByte(0xca);
1206   1          TM1640WriteByte(dichk_temp[3]);
1207   1          TM1640Stop();
1208   1      
1209   1          TM1640Start();
1210   1          TM1640WriteByte(0xc9);
1211   1          TM1640WriteByte(dichk_temp[3]);
1212   1          TM1640Stop();
1213   1      
1214   1          Delay_Some_Time(500);
1215   1      
1216   1          TM1640Start();
1217   1          TM1640WriteByte(0xc2);
1218   1          TM1640WriteByte(dichk_temp[4]);
1219   1          TM1640Stop();
1220   1      
1221   1          TM1640Start();
1222   1          TM1640WriteByte(0xc0);
1223   1          TM1640WriteByte(dichk_temp[4]);
1224   1          TM1640Stop();
1225   1      
1226   1          TM1640Start();
1227   1          TM1640WriteByte(0xcc);
1228   1          TM1640WriteByte(dichk_temp[4]);
1229   1          TM1640Stop();
1230   1      
1231   1          TM1640Start();
1232   1          TM1640WriteByte(0xce);
1233   1          TM1640WriteByte(dichk_temp[4]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 21  

1234   1          TM1640Stop();
1235   1      
1236   1          TM1640Start();
1237   1          TM1640WriteByte(0xcf);
1238   1          TM1640WriteByte(dichk_temp[4]);
1239   1          TM1640Stop();
1240   1      
1241   1          TM1640Start();
1242   1          TM1640WriteByte(0xcd);
1243   1          TM1640WriteByte(dichk_temp[4]);
1244   1          TM1640Stop();
1245   1      
1246   1          TM1640Start();
1247   1          TM1640WriteByte(0xcb);
1248   1          TM1640WriteByte(dichk_temp[4]);
1249   1          TM1640Stop();
1250   1      
1251   1          TM1640Start();
1252   1          TM1640WriteByte(0xc1);
1253   1          TM1640WriteByte(dichk_temp[4]);
1254   1          TM1640Stop();
1255   1      
1256   1          TM1640Start();
1257   1          TM1640WriteByte(0xc4);
1258   1          TM1640WriteByte(dichk_temp[4]);
1259   1          TM1640Stop();
1260   1      
1261   1          TM1640Start();
1262   1          TM1640WriteByte(0xc3);
1263   1          TM1640WriteByte(dichk_temp[4]);
1264   1          TM1640Stop();
1265   1      
1266   1          TM1640Start();
1267   1          TM1640WriteByte(0xc6);
1268   1          TM1640WriteByte(dichk_temp[4]);
1269   1          TM1640Stop();
1270   1      
1271   1          TM1640Start();
1272   1          TM1640WriteByte(0xc5);
1273   1          TM1640WriteByte(dichk_temp[4]);
1274   1          TM1640Stop();
1275   1      
1276   1          TM1640Start();
1277   1          TM1640WriteByte(0xc8);
1278   1          TM1640WriteByte(dichk_temp[4]);
1279   1          TM1640Stop();
1280   1      
1281   1          TM1640Start();
1282   1          TM1640WriteByte(0xc7);
1283   1          TM1640WriteByte(dichk_temp[4]);
1284   1          TM1640Stop();
1285   1      
1286   1          TM1640Start();
1287   1          TM1640WriteByte(0xca);
1288   1          TM1640WriteByte(dichk_temp[4]);
1289   1          TM1640Stop();
1290   1      
1291   1          TM1640Start();
1292   1          TM1640WriteByte(0xc9);
1293   1          TM1640WriteByte(dichk_temp[4]);
1294   1          TM1640Stop();
1295   1      
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 22  

1296   1          Delay_Some_Time(500);
1297   1      
1298   1          TM1640Start();
1299   1          TM1640WriteByte(0xc2);
1300   1          TM1640WriteByte(dichk_temp[5]);
1301   1          TM1640Stop();
1302   1      
1303   1          TM1640Start();
1304   1          TM1640WriteByte(0xc0);
1305   1          TM1640WriteByte(dichk_temp[5]);
1306   1          TM1640Stop();
1307   1      
1308   1          TM1640Start();
1309   1          TM1640WriteByte(0xcc);
1310   1          TM1640WriteByte(dichk_temp[5]);
1311   1          TM1640Stop();
1312   1      
1313   1          TM1640Start();
1314   1          TM1640WriteByte(0xce);
1315   1          TM1640WriteByte(dichk_temp[5]);
1316   1          TM1640Stop();
1317   1      
1318   1          TM1640Start();
1319   1          TM1640WriteByte(0xcf);
1320   1          TM1640WriteByte(dichk_temp[5]);
1321   1          TM1640Stop();
1322   1      
1323   1          TM1640Start();
1324   1          TM1640WriteByte(0xcd);
1325   1          TM1640WriteByte(dichk_temp[5]);
1326   1          TM1640Stop();
1327   1      
1328   1          TM1640Start();
1329   1          TM1640WriteByte(0xcb);
1330   1          TM1640WriteByte(dichk_temp[5]);
1331   1          TM1640Stop();
1332   1      
1333   1          TM1640Start();
1334   1          TM1640WriteByte(0xc1);
1335   1          TM1640WriteByte(dichk_temp[5]);
1336   1          TM1640Stop();
1337   1      
1338   1          TM1640Start();
1339   1          TM1640WriteByte(0xc4);
1340   1          TM1640WriteByte(dichk_temp[5]);
1341   1          TM1640Stop();
1342   1      
1343   1          TM1640Start();
1344   1          TM1640WriteByte(0xc3);
1345   1          TM1640WriteByte(dichk_temp[5]);
1346   1          TM1640Stop();
1347   1      
1348   1          TM1640Start();
1349   1          TM1640WriteByte(0xc6);
1350   1          TM1640WriteByte(dichk_temp[5]);
1351   1          TM1640Stop();
1352   1      
1353   1          TM1640Start();
1354   1          TM1640WriteByte(0xc5);
1355   1          TM1640WriteByte(dichk_temp[5]);
1356   1          TM1640Stop();
1357   1      
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 23  

1358   1          TM1640Start();
1359   1          TM1640WriteByte(0xc8);
1360   1          TM1640WriteByte(dichk_temp[5]);
1361   1          TM1640Stop();
1362   1      
1363   1          TM1640Start();
1364   1          TM1640WriteByte(0xc7);
1365   1          TM1640WriteByte(dichk_temp[5]);
1366   1          TM1640Stop();
1367   1      
1368   1          TM1640Start();
1369   1          TM1640WriteByte(0xca);
1370   1          TM1640WriteByte(dichk_temp[5]);
1371   1          TM1640Stop();
1372   1      
1373   1          TM1640Start();
1374   1          TM1640WriteByte(0xc9);
1375   1          TM1640WriteByte(dichk_temp[5]);
1376   1          TM1640Stop();
1377   1      
1378   1          Delay_Some_Time(500);
1379   1      
1380   1          TM1640Start();
1381   1          TM1640WriteByte(0xc2);
1382   1          TM1640WriteByte(dichk_temp[6]);
1383   1          TM1640Stop();
1384   1      
1385   1          TM1640Start();
1386   1          TM1640WriteByte(0xc0);
1387   1          TM1640WriteByte(dichk_temp[6]);
1388   1          TM1640Stop();
1389   1      
1390   1          TM1640Start();
1391   1          TM1640WriteByte(0xcc);
1392   1          TM1640WriteByte(dichk_temp[6]);
1393   1          TM1640Stop();
1394   1      
1395   1          TM1640Start();
1396   1          TM1640WriteByte(0xce);
1397   1          TM1640WriteByte(dichk_temp[6]);
1398   1          TM1640Stop();
1399   1      
1400   1          TM1640Start();
1401   1          TM1640WriteByte(0xcf);
1402   1          TM1640WriteByte(dichk_temp[6]);
1403   1          TM1640Stop();
1404   1      
1405   1          TM1640Start();
1406   1          TM1640WriteByte(0xcd);
1407   1          TM1640WriteByte(dichk_temp[6]);
1408   1          TM1640Stop();
1409   1      
1410   1          TM1640Start();
1411   1          TM1640WriteByte(0xcb);
1412   1          TM1640WriteByte(dichk_temp[6]);
1413   1          TM1640Stop();
1414   1      
1415   1          TM1640Start();
1416   1          TM1640WriteByte(0xc1);
1417   1          TM1640WriteByte(dichk_temp[6]);
1418   1          TM1640Stop();
1419   1      
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 24  

1420   1          TM1640Start();
1421   1          TM1640WriteByte(0xc4);
1422   1          TM1640WriteByte(dichk_temp[6]);
1423   1          TM1640Stop();
1424   1      
1425   1          TM1640Start();
1426   1          TM1640WriteByte(0xc3);
1427   1          TM1640WriteByte(dichk_temp[6]);
1428   1          TM1640Stop();
1429   1      
1430   1          TM1640Start();
1431   1          TM1640WriteByte(0xc6);
1432   1          TM1640WriteByte(dichk_temp[6]);
1433   1          TM1640Stop();
1434   1      
1435   1          TM1640Start();
1436   1          TM1640WriteByte(0xc5);
1437   1          TM1640WriteByte(dichk_temp[6]);
1438   1          TM1640Stop();
1439   1      
1440   1          TM1640Start();
1441   1          TM1640WriteByte(0xc8);
1442   1          TM1640WriteByte(dichk_temp[6]);
1443   1          TM1640Stop();
1444   1      
1445   1          TM1640Start();
1446   1          TM1640WriteByte(0xc7);
1447   1          TM1640WriteByte(dichk_temp[6]);
1448   1          TM1640Stop();
1449   1      
1450   1          TM1640Start();
1451   1          TM1640WriteByte(0xca);
1452   1          TM1640WriteByte(dichk_temp[6]);
1453   1          TM1640Stop();
1454   1      
1455   1          TM1640Start();
1456   1          TM1640WriteByte(0xc9);
1457   1          TM1640WriteByte(dichk_temp[6]);
1458   1          TM1640Stop();
1459   1      
1460   1          TM1640Start();
1461   1          TM1640WriteByte(0x8b); //Set the starting address
1462   1          TM1640Stop();
1463   1      }
1464          
1465          void TM1640_L_display(unsigned char *ltemp)
1466          {
1467   1      
1468   1          TM1640Start();
1469   1          TM1640WriteByte(0x44); //Set the starting address
1470   1          TM1640Stop();
1471   1          TM1640Start();
1472   1          TM1640WriteByte(0xc2);
1473   1          TM1640WriteByte(ltemp[0]);
1474   1          TM1640Stop();
1475   1          TM1640Start();
1476   1          TM1640WriteByte(0xc0);
1477   1          TM1640WriteByte(ltemp[1]);
1478   1          TM1640Stop();
1479   1          TM1640Start();
1480   1          TM1640WriteByte(0xcc);
1481   1          TM1640WriteByte(ltemp[2]);
C51 COMPILER V9.60.0.0   TM1640                                                            09/07/2016 23:13:44 PAGE 25  

1482   1          TM1640Stop();
1483   1          TM1640Start();
1484   1          TM1640WriteByte(0xce);
1485   1          TM1640WriteByte(ltemp[3]);
1486   1          TM1640Stop();
1487   1          TM1640Start();
1488   1          TM1640WriteByte(0xcf);
1489   1          TM1640WriteByte(ltemp[4]);
1490   1          TM1640Stop();
1491   1          TM1640Start();
1492   1          TM1640WriteByte(0xcd);
1493   1          TM1640WriteByte(ltemp[5]);
1494   1          TM1640Stop();
1495   1          TM1640Start();
1496   1          TM1640WriteByte(0x8b); //Set the starting address
1497   1          TM1640Stop();
1498   1      }
1499          
1500          void TM1640_GPIO_Config(void)
1501          {
1502   1          P2M0 = 0x03;
1503   1          P20 = 0;
1504   1          P21 = 0;
1505   1          PUCON0 = 0x00;
1506   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   7013    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      22
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
